name: "Pull request flow for Golang project"
description: "This is my standard pipeline for pull request on Golang project"

inputs:
  appId:
    required: true
    description: ID of the Github app
  privateKey:
    required: true
    description: Private key of the Github app

runs:
  using: "composite"
  steps:
    - name: Check code quality ğŸ«†
      uses: tchoupinax/repo-config/shared-actions/golang/golangci@89ecd19abc41a37d3bf27ee35061edf00f6a6727

    - name: Check build success ğŸ¦«
      uses: tchoupinax/repo-config/shared-actions/golang/goreleaser-build-only@89ecd19abc41a37d3bf27ee35061edf00f6a6727

    - name: Autodetect labels ğŸ”
      uses: tchoupinax/repo-config/shared-actions/dx/automatically-apply-labels@89ecd19abc41a37d3bf27ee35061edf00f6a6727
      with:
        app-id: ${{ inputs.appId }}
        private-key: ${{ inputs.privateKey }}
