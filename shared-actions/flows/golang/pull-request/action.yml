name: "Pull request flow for Golang project"
description: "This is my standard pipeline for pull request on Golang project"

inputs:
  appId:
    required: true
    description: ID of the Github app
  privateKey:
    required: true
    description: Private key of the Github app

runs:
  using: "composite"
  steps:
    - name: Check code quality ğŸ«†
      uses: tchoupinax/repo-config/shared-actions/golang/golangci@0334f2cd114e71448f2d880f756af10bedf0469c

    - name: Check build success ğŸ¦«
      uses: tchoupinax/repo-config/shared-actions/golang/goreleaser-build-only@0334f2cd114e71448f2d880f756af10bedf0469c

    - name: Autodetect labels ğŸ”
      uses: tchoupinax/repo-config/shared-actions/dx/automatically-apply-labels@0334f2cd114e71448f2d880f756af10bedf0469c
      with:
        app-id: ${{ inputs.appId }}
        private-key: ${{ inputs.privateKey }}
